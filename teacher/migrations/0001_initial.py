# Generated by Django 5.2.5 on 2025-11-26 14:56

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("admin_functionalities", "0001_initial"),
        ("enrollmentprocess", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="AdviserMasterlist",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "school_year",
                    models.CharField(
                        choices=[
                            ("2024-2025", "2024-2025"),
                            ("2025-2026", "2025-2026"),
                            ("2026-2027", "2026-2027"),
                            ("2027-2028", "2027-2028"),
                        ],
                        default="2025-2026",
                        max_length=9,
                        verbose_name="School Year",
                    ),
                ),
                (
                    "total_students",
                    models.PositiveIntegerField(
                        default=0, editable=False, verbose_name="Total Students"
                    ),
                ),
                (
                    "male_count",
                    models.PositiveIntegerField(
                        default=0, editable=False, verbose_name="Male Count"
                    ),
                ),
                (
                    "female_count",
                    models.PositiveIntegerField(
                        default=0, editable=False, verbose_name="Female Count"
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Set to False to archive this masterlist",
                        verbose_name="Is Active",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "adviser",
                    models.ForeignKey(
                        limit_choices_to={"is_adviser": True},
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="masterlist_sections",
                        to="admin_functionalities.teacher",
                        verbose_name="Adviser",
                    ),
                ),
                (
                    "section",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="masterlist_records",
                        to="admin_functionalities.section",
                        verbose_name="Section",
                    ),
                ),
            ],
            options={
                "verbose_name": "Adviser Masterlist",
                "verbose_name_plural": "Adviser Masterlists",
                "ordering": ["-school_year", "section__name"],
            },
        ),
        migrations.CreateModel(
            name="AttendanceRecord",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "quarter",
                    models.CharField(
                        choices=[
                            ("Q1", "Quarter 1"),
                            ("Q2", "Quarter 2"),
                            ("Q3", "Quarter 3"),
                            ("Q4", "Quarter 4"),
                        ],
                        max_length=2,
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "month",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="Month (1-12)",
                    ),
                ),
                ("year", models.IntegerField(verbose_name="Year")),
                (
                    "school_name",
                    models.CharField(
                        default="Cagayan de Oro National High School",
                        max_length=200,
                        verbose_name="School Name",
                    ),
                ),
                (
                    "school_id",
                    models.CharField(
                        default="304144", max_length=20, verbose_name="School ID"
                    ),
                ),
                (
                    "grade_level",
                    models.CharField(
                        default="Grade 7", max_length=20, verbose_name="Grade Level"
                    ),
                ),
                (
                    "total_days",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of school days (Mon-Fri) in this month",
                        verbose_name="Total School Days in Month",
                    ),
                ),
                (
                    "enrollment_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Male Enrollment"
                    ),
                ),
                (
                    "enrollment_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Female Enrollment"
                    ),
                ),
                (
                    "late_enrollees_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Late Enrollees - Male"
                    ),
                ),
                (
                    "late_enrollees_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Late Enrollees - Female"
                    ),
                ),
                (
                    "registered_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Registered - Male"
                    ),
                ),
                (
                    "registered_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Registered - Female"
                    ),
                ),
                (
                    "avg_attendance_male",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Avg Attendance - Male",
                    ),
                ),
                (
                    "avg_attendance_female",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Avg Attendance - Female",
                    ),
                ),
                (
                    "attendance_percentage_male",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Attendance % - Male",
                    ),
                ),
                (
                    "attendance_percentage_female",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        verbose_name="Attendance % - Female",
                    ),
                ),
                (
                    "dropped_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Dropped - Male"
                    ),
                ),
                (
                    "dropped_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Dropped - Female"
                    ),
                ),
                (
                    "transferred_out_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Transferred Out - Male"
                    ),
                ),
                (
                    "transferred_out_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Transferred Out - Female"
                    ),
                ),
                (
                    "transferred_in_male",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Transferred In - Male"
                    ),
                ),
                (
                    "transferred_in_female",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Transferred In - Female"
                    ),
                ),
                (
                    "adviser_name",
                    models.CharField(
                        blank=True, max_length=150, verbose_name="Adviser Name"
                    ),
                ),
                (
                    "principal_name",
                    models.CharField(
                        blank=True,
                        max_length=150,
                        verbose_name="Principal/School Head Name",
                    ),
                ),
                (
                    "is_finalized",
                    models.BooleanField(
                        default=False,
                        help_text="Mark as finalized to prevent further edits",
                        verbose_name="Is Finalized",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "school_year",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance_records",
                        to="admin_functionalities.schoolyear",
                        verbose_name="School Year",
                    ),
                ),
                (
                    "section",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance_records",
                        to="admin_functionalities.section",
                        verbose_name="Section",
                    ),
                ),
                (
                    "teacher",
                    models.ForeignKey(
                        help_text="Teacher who manages this attendance record",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance_records",
                        to="admin_functionalities.teacher",
                        verbose_name="Teacher (Adviser)",
                    ),
                ),
            ],
            options={
                "verbose_name": "Attendance Record",
                "verbose_name_plural": "Attendance Records",
                "ordering": ["-year", "-month", "section"],
            },
        ),
        migrations.CreateModel(
            name="AttendanceHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("created", "Created"),
                            ("updated", "Updated"),
                            ("finalized", "Finalized"),
                            ("exported", "Exported to Excel"),
                        ],
                        max_length=50,
                        verbose_name="Action",
                    ),
                ),
                (
                    "snapshot_data",
                    models.JSONField(
                        default=dict,
                        help_text="JSON snapshot of key metrics",
                        verbose_name="Data Snapshot",
                    ),
                ),
                (
                    "timestamp",
                    models.DateTimeField(
                        default=django.utils.timezone.now, verbose_name="Timestamp"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "modified_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="attendance_history",
                        to="admin_functionalities.teacher",
                        verbose_name="Modified By",
                    ),
                ),
                (
                    "attendance_record",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="history_logs",
                        to="teacher.attendancerecord",
                        verbose_name="Attendance Record",
                    ),
                ),
            ],
            options={
                "verbose_name": "Attendance History",
                "verbose_name_plural": "Attendance Histories",
                "ordering": ["-timestamp"],
            },
        ),
        migrations.CreateModel(
            name="ClassRecord",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "quarter",
                    models.CharField(
                        choices=[
                            ("Q1", "Quarter 1"),
                            ("Q2", "Quarter 2"),
                            ("Q3", "Quarter 3"),
                            ("Q4", "Quarter 4"),
                        ],
                        max_length=2,
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "school_year",
                    models.CharField(
                        choices=[
                            ("2024-2025", "2024-2025"),
                            ("2025-2026", "2025-2026"),
                            ("2026-2027", "2026-2027"),
                            ("2027-2028", "2027-2028"),
                        ],
                        default="2025-2026",
                        max_length=9,
                        verbose_name="School Year",
                    ),
                ),
                (
                    "written_works_weight",
                    models.PositiveIntegerField(
                        default=30,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Written Works Weight (%)",
                    ),
                ),
                (
                    "performance_tasks_weight",
                    models.PositiveIntegerField(
                        default=50,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Performance Tasks Weight (%)",
                    ),
                ),
                (
                    "quarterly_assessment_weight",
                    models.PositiveIntegerField(
                        default=20,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Quarterly Assessment Weight (%)",
                    ),
                ),
                (
                    "ww_hps_1",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 1 HPS"
                    ),
                ),
                (
                    "ww_hps_2",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 2 HPS"
                    ),
                ),
                (
                    "ww_hps_3",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 3 HPS"
                    ),
                ),
                (
                    "ww_hps_4",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 4 HPS"
                    ),
                ),
                (
                    "ww_hps_5",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 5 HPS"
                    ),
                ),
                (
                    "ww_hps_6",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 6 HPS"
                    ),
                ),
                (
                    "ww_hps_7",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 7 HPS"
                    ),
                ),
                (
                    "ww_hps_8",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 8 HPS"
                    ),
                ),
                (
                    "ww_hps_9",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 9 HPS"
                    ),
                ),
                (
                    "ww_hps_10",
                    models.PositiveIntegerField(
                        default=0, verbose_name="WW Item 10 HPS"
                    ),
                ),
                (
                    "pt_hps_1",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 1 HPS"
                    ),
                ),
                (
                    "pt_hps_2",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 2 HPS"
                    ),
                ),
                (
                    "pt_hps_3",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 3 HPS"
                    ),
                ),
                (
                    "pt_hps_4",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 4 HPS"
                    ),
                ),
                (
                    "pt_hps_5",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 5 HPS"
                    ),
                ),
                (
                    "pt_hps_6",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 6 HPS"
                    ),
                ),
                (
                    "pt_hps_7",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 7 HPS"
                    ),
                ),
                (
                    "pt_hps_8",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 8 HPS"
                    ),
                ),
                (
                    "pt_hps_9",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 9 HPS"
                    ),
                ),
                (
                    "pt_hps_10",
                    models.PositiveIntegerField(
                        default=0, verbose_name="PT Item 10 HPS"
                    ),
                ),
                (
                    "qa_hps_1",
                    models.PositiveIntegerField(
                        default=50, verbose_name="QA Item 1 HPS"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "section",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="class_records",
                        to="admin_functionalities.section",
                        verbose_name="Section",
                    ),
                ),
                (
                    "subject",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="class_records",
                        to="admin_functionalities.subject",
                        verbose_name="Subject",
                    ),
                ),
                (
                    "teacher",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="class_records",
                        to="admin_functionalities.teacher",
                        verbose_name="Teacher",
                    ),
                ),
            ],
            options={
                "verbose_name": "Class Record",
                "verbose_name_plural": "Class Records",
                "ordering": ["-school_year", "quarter", "section", "subject"],
            },
        ),
        migrations.CreateModel(
            name="GradeSummary",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "school_year",
                    models.CharField(max_length=9, verbose_name="School Year"),
                ),
                (
                    "q1_grade",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="1st Quarter Grade",
                    ),
                ),
                (
                    "q2_grade",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="2nd Quarter Grade",
                    ),
                ),
                (
                    "q3_grade",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="3rd Quarter Grade",
                    ),
                ),
                (
                    "q4_grade",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="4th Quarter Grade",
                    ),
                ),
                (
                    "final_grade",
                    models.PositiveIntegerField(
                        default=0, editable=False, verbose_name="Final Grade"
                    ),
                ),
                (
                    "remarks",
                    models.CharField(
                        default="---",
                        editable=False,
                        max_length=10,
                        verbose_name="Remarks",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "section",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="grade_summaries",
                        to="admin_functionalities.section",
                        verbose_name="Section",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="grade_summaries",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
                (
                    "subject",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="grade_summaries",
                        to="admin_functionalities.subject",
                        verbose_name="Subject",
                    ),
                ),
            ],
            options={
                "verbose_name": "Grade Summary",
                "verbose_name_plural": "Grade Summaries",
                "ordering": ["student__last_name", "student__first_name", "subject"],
            },
        ),
        migrations.CreateModel(
            name="InterventionPlan",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "quarter",
                    models.CharField(
                        choices=[
                            ("Q1", "Quarter 1"),
                            ("Q2", "Quarter 2"),
                            ("Q3", "Quarter 3"),
                            ("Q4", "Quarter 4"),
                        ],
                        max_length=2,
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "risk_level",
                    models.CharField(
                        choices=[
                            ("At Risk", "At Risk"),
                            ("Critical", "Critical"),
                            ("Resolved", "Resolved"),
                        ],
                        default="At Risk",
                        max_length=20,
                        verbose_name="Risk Level",
                    ),
                ),
                (
                    "current_grade",
                    models.FloatField(
                        default=0,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Current Grade",
                    ),
                ),
                (
                    "total_absences",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Total Absences"
                    ),
                ),
                (
                    "missing_written_works",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Missing Written Works"
                    ),
                ),
                (
                    "missing_performance_tasks",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Missing Performance Tasks"
                    ),
                ),
                (
                    "missed_quarterly_assessment",
                    models.BooleanField(
                        default=False, verbose_name="Missed Quarterly Assessment"
                    ),
                ),
                (
                    "current_tier",
                    models.CharField(
                        choices=[
                            ("Tier 1", "Tier 1: Prevention"),
                            ("Tier 2", "Tier 2: Targeted Support"),
                            ("Tier 3", "Tier 3: Intensive Intervention"),
                        ],
                        default="Tier 1",
                        max_length=10,
                        verbose_name="Current Intervention Tier",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(default=True, verbose_name="Is Active"),
                ),
                (
                    "is_resolved",
                    models.BooleanField(default=False, verbose_name="Is Resolved"),
                ),
                (
                    "resolved_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Resolved Date"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_intervention_plans",
                        to="admin_functionalities.teacher",
                        verbose_name="Created By",
                    ),
                ),
                (
                    "school_year",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_plans",
                        to="admin_functionalities.schoolyear",
                        verbose_name="School Year",
                    ),
                ),
                (
                    "section",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_plans",
                        to="admin_functionalities.section",
                        verbose_name="Section",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_plans",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
                (
                    "subject",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_plans",
                        to="admin_functionalities.subject",
                        verbose_name="Subject",
                    ),
                ),
            ],
            options={
                "verbose_name": "Intervention Plan",
                "verbose_name_plural": "Intervention Plans",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="InterventionNote",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("note", models.TextField(verbose_name="Note")),
                (
                    "note_date",
                    models.DateField(
                        default=django.utils.timezone.now, verbose_name="Note Date"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_notes",
                        to="admin_functionalities.teacher",
                        verbose_name="Created By",
                    ),
                ),
                (
                    "intervention_plan",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notes",
                        to="teacher.interventionplan",
                        verbose_name="Intervention Plan",
                    ),
                ),
            ],
            options={
                "verbose_name": "Intervention Note",
                "verbose_name_plural": "Intervention Notes",
                "ordering": ["-note_date", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="InterventionAction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "tier",
                    models.CharField(
                        choices=[
                            ("Tier 1", "Tier 1: Prevention"),
                            ("Tier 2", "Tier 2: Targeted Support"),
                            ("Tier 3", "Tier 3: Intensive Intervention"),
                        ],
                        max_length=10,
                        verbose_name="Tier",
                    ),
                ),
                (
                    "action_type",
                    models.CharField(
                        choices=[
                            ("Student Conference", "Student Conference"),
                            ("Parent Contact", "Parent Contact"),
                            ("Tutoring Session", "Tutoring Session"),
                            ("Makeup Work", "Makeup Work Opportunity"),
                            ("Behavior Plan", "Behavior Plan"),
                            ("Counseling Referral", "Counseling Referral"),
                            ("Other", "Other"),
                        ],
                        max_length=30,
                        verbose_name="Action Type",
                    ),
                ),
                (
                    "action_name",
                    models.CharField(max_length=200, verbose_name="Action Name"),
                ),
                ("description", models.TextField(verbose_name="Description")),
                ("start_date", models.DateField(verbose_name="Start Date")),
                (
                    "target_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Target Completion Date"
                    ),
                ),
                (
                    "completion_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Actual Completion Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("Planned", "Planned"),
                            ("In Progress", "In Progress"),
                            ("Completed", "Completed"),
                            ("Not Completed", "Not Completed"),
                        ],
                        default="Planned",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "progress_notes",
                    models.TextField(blank=True, verbose_name="Progress Notes"),
                ),
                (
                    "teacher_notes",
                    models.TextField(blank=True, verbose_name="Teacher Notes"),
                ),
                (
                    "was_successful",
                    models.BooleanField(
                        blank=True, null=True, verbose_name="Was Successful"
                    ),
                ),
                (
                    "outcome_notes",
                    models.TextField(blank=True, verbose_name="Outcome Notes"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "handled_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="handled_intervention_actions",
                        to="admin_functionalities.teacher",
                        verbose_name="Handled By",
                    ),
                ),
                (
                    "intervention_plan",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_actions",
                        to="teacher.interventionplan",
                        verbose_name="Intervention Plan",
                    ),
                ),
            ],
            options={
                "verbose_name": "Intervention Action",
                "verbose_name_plural": "Intervention Actions",
                "ordering": ["-start_date", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Intervention",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "intervention_type",
                    models.CharField(
                        choices=[
                            ("Academic", "Academic - Subject-Specific"),
                            ("Behavioral", "Behavioral - Conduct/Discipline"),
                            ("Attendance", "Attendance - Absences/Tardiness"),
                            ("Social", "Social - Peer Relationships"),
                            ("Emotional", "Emotional - Mental Health"),
                            ("General", "General - Overall Performance"),
                        ],
                        default="General",
                        help_text="What area does this intervention address?",
                        max_length=20,
                        verbose_name="Intervention Type",
                    ),
                ),
                (
                    "quarter",
                    models.CharField(
                        choices=[
                            ("Q1", "Quarter 1"),
                            ("Q2", "Quarter 2"),
                            ("Q3", "Quarter 3"),
                            ("Q4", "Quarter 4"),
                        ],
                        default="Q1",
                        max_length=2,
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "start_date",
                    models.DateField(blank=True, null=True, verbose_name="Start Date"),
                ),
                (
                    "review_date",
                    models.DateField(blank=True, null=True, verbose_name="Review Date"),
                ),
                (
                    "reason",
                    models.TextField(
                        help_text="Why is this intervention needed? Be specific.",
                        verbose_name="Reason / Concern",
                    ),
                ),
                (
                    "smart_goal",
                    models.TextField(
                        help_text="Specific, Measurable, Achievable, Relevant, Time-bound goal",
                        verbose_name="SMART Goal",
                    ),
                ),
                (
                    "last_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("", "Not Started"),
                            ("Improved", "Improved"),
                            ("No change", "No Change"),
                            ("Worsened", "Worsened"),
                        ],
                        default="",
                        max_length=20,
                        verbose_name="Latest Status",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Last Updated"),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Uncheck to archive this intervention",
                        verbose_name="Is Active",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_interventions",
                        to="admin_functionalities.teacher",
                        verbose_name="Created By (Adviser)",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="interventions",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
                (
                    "subject",
                    models.ForeignKey(
                        blank=True,
                        help_text="Leave blank for general/behavioral interventions.",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="interventions",
                        to="admin_functionalities.subject",
                        verbose_name="Subject",
                    ),
                ),
                (
                    "related_subject_intervention",
                    models.ForeignKey(
                        blank=True,
                        help_text="Link to the subject teacher's Tier 3 intervention that triggered this",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="adviser_interventions",
                        to="teacher.interventionplan",
                        verbose_name="Related Subject Intervention",
                    ),
                ),
            ],
            options={
                "verbose_name": "Intervention",
                "verbose_name_plural": "Interventions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="InterventionUpdate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "date",
                    models.DateField(
                        default=django.utils.timezone.now, verbose_name="Update Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("Improved", "Improved"),
                            ("No change", "No Change"),
                            ("Worsened", "Worsened"),
                        ],
                        default="No change",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "note",
                    models.TextField(
                        blank=True,
                        help_text="Progress notes, actions taken, observations",
                        verbose_name="Notes",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="intervention_updates",
                        to="admin_functionalities.teacher",
                        verbose_name="Updated By",
                    ),
                ),
                (
                    "intervention",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="updates",
                        to="teacher.intervention",
                        verbose_name="Intervention",
                    ),
                ),
            ],
            options={
                "verbose_name": "Intervention Update",
                "verbose_name_plural": "Intervention Updates",
                "ordering": ["-date", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="MasterlistStudent",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "enrollment_date",
                    models.DateField(
                        default=django.utils.timezone.now,
                        verbose_name="Enrollment Date",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("Active", "Active"),
                            ("Probation", "Probation"),
                            ("Dropped", "Dropped"),
                            ("Transferred", "Transferred"),
                            ("Graduated", "Graduated"),
                        ],
                        default="Active",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "is_honor_student",
                    models.BooleanField(
                        default=False,
                        help_text="Student is in the honor roll",
                        verbose_name="Is Honor Student",
                    ),
                ),
                (
                    "is_at_risk",
                    models.BooleanField(
                        default=False,
                        help_text="Student is at risk of failing",
                        verbose_name="Is At Risk",
                    ),
                ),
                (
                    "has_intervention",
                    models.BooleanField(
                        default=False,
                        help_text="Student has active intervention plan",
                        verbose_name="Has Active Intervention",
                    ),
                ),
                (
                    "remarks",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the student",
                        verbose_name="Remarks",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Student is currently enrolled in this section",
                        verbose_name="Is Active",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "masterlist",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_entries",
                        to="teacher.advisermasterlist",
                        verbose_name="Masterlist",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="masterlist_entries",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
            ],
            options={
                "verbose_name": "Masterlist Student",
                "verbose_name_plural": "Masterlist Students",
                "ordering": ["student__last_name", "student__first_name"],
            },
        ),
        migrations.CreateModel(
            name="MasterlistNote",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "note_type",
                    models.CharField(
                        choices=[
                            ("General", "General Note"),
                            ("Academic", "Academic Concern"),
                            ("Behavioral", "Behavioral Issue"),
                            ("Achievement", "Achievement/Award"),
                            ("Parent Contact", "Parent Contact"),
                            ("Intervention", "Intervention Action"),
                            ("Medical", "Medical/Health"),
                        ],
                        default="General",
                        max_length=20,
                        verbose_name="Note Type",
                    ),
                ),
                ("note", models.TextField(verbose_name="Note Content")),
                (
                    "date",
                    models.DateField(
                        default=django.utils.timezone.now, verbose_name="Date"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="masterlist_notes",
                        to="admin_functionalities.teacher",
                        verbose_name="Created By",
                    ),
                ),
                (
                    "masterlist_student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notes",
                        to="teacher.masterliststudent",
                        verbose_name="Masterlist Student",
                    ),
                ),
            ],
            options={
                "verbose_name": "Masterlist Note",
                "verbose_name_plural": "Masterlist Notes",
                "ordering": ["-date", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="QuarterEnrollment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "quarter",
                    models.CharField(
                        choices=[
                            ("Q1", "Quarter 1"),
                            ("Q2", "Quarter 2"),
                            ("Q3", "Quarter 3"),
                            ("Q4", "Quarter 4"),
                        ],
                        max_length=2,
                        verbose_name="Quarter",
                    ),
                ),
                (
                    "is_enrolled",
                    models.BooleanField(
                        default=True,
                        help_text="Student is enrolled for this quarter",
                        verbose_name="Is Enrolled",
                    ),
                ),
                (
                    "days_present",
                    models.PositiveIntegerField(default=0, verbose_name="Days Present"),
                ),
                (
                    "days_absent",
                    models.PositiveIntegerField(default=0, verbose_name="Days Absent"),
                ),
                (
                    "days_tardy",
                    models.PositiveIntegerField(default=0, verbose_name="Days Tardy"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Quarter Notes")),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "masterlist_student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="quarter_enrollments",
                        to="teacher.masterliststudent",
                        verbose_name="Masterlist Student",
                    ),
                ),
            ],
            options={
                "verbose_name": "Quarter Enrollment",
                "verbose_name_plural": "Quarter Enrollments",
                "ordering": ["quarter"],
            },
        ),
        migrations.CreateModel(
            name="StudentAttendance",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "daily_attendance",
                    models.JSONField(
                        default=list,
                        help_text="Array of attendance codes for each school day",
                        verbose_name="Daily Attendance Codes",
                    ),
                ),
                (
                    "total_absences",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Total Absences"
                    ),
                ),
                (
                    "total_tardies",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Total Tardies"
                    ),
                ),
                (
                    "total_present",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Total Present Days"
                    ),
                ),
                (
                    "remarks",
                    models.TextField(
                        blank=True,
                        help_text="Note reasons for absences, dropout, transfer, etc.",
                        verbose_name="Remarks",
                    ),
                ),
                (
                    "is_at_risk",
                    models.BooleanField(
                        default=False,
                        help_text="Student has 5-6 absences",
                        verbose_name="At Risk of Dropout",
                    ),
                ),
                (
                    "is_dropout",
                    models.BooleanField(
                        default=False,
                        help_text="Student has 7+ absences",
                        verbose_name="Subject to Dropout",
                    ),
                ),
                (
                    "has_valid_excuse",
                    models.BooleanField(
                        default=False,
                        help_text="Teacher marked absences as excused",
                        verbose_name="Has Valid Excuse",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "attendance_record",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_attendance",
                        to="teacher.attendancerecord",
                        verbose_name="Attendance Record",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="monthly_attendance",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
            ],
            options={
                "verbose_name": "Student Attendance",
                "verbose_name_plural": "Student Attendance Records",
                "ordering": ["student__last_name", "student__first_name"],
            },
        ),
        migrations.CreateModel(
            name="StudentGrade",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "ww_score_1",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 1",
                    ),
                ),
                (
                    "ww_score_2",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 2",
                    ),
                ),
                (
                    "ww_score_3",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 3",
                    ),
                ),
                (
                    "ww_score_4",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 4",
                    ),
                ),
                (
                    "ww_score_5",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 5",
                    ),
                ),
                (
                    "ww_score_6",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 6",
                    ),
                ),
                (
                    "ww_score_7",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 7",
                    ),
                ),
                (
                    "ww_score_8",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 8",
                    ),
                ),
                (
                    "ww_score_9",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 9",
                    ),
                ),
                (
                    "ww_score_10",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="WW Score 10",
                    ),
                ),
                (
                    "pt_score_1",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 1",
                    ),
                ),
                (
                    "pt_score_2",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 2",
                    ),
                ),
                (
                    "pt_score_3",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 3",
                    ),
                ),
                (
                    "pt_score_4",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 4",
                    ),
                ),
                (
                    "pt_score_5",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 5",
                    ),
                ),
                (
                    "pt_score_6",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 6",
                    ),
                ),
                (
                    "pt_score_7",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 7",
                    ),
                ),
                (
                    "pt_score_8",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 8",
                    ),
                ),
                (
                    "pt_score_9",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 9",
                    ),
                ),
                (
                    "pt_score_10",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="PT Score 10",
                    ),
                ),
                (
                    "qa_score_1",
                    models.FloatField(
                        default=0,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="QA Score 1",
                    ),
                ),
                (
                    "ww_total",
                    models.FloatField(
                        default=0, editable=False, verbose_name="WW Total"
                    ),
                ),
                (
                    "ww_percentage",
                    models.FloatField(
                        default=0, editable=False, verbose_name="WW Percentage"
                    ),
                ),
                (
                    "ww_weighted_score",
                    models.FloatField(
                        default=0, editable=False, verbose_name="WW Weighted Score"
                    ),
                ),
                (
                    "pt_total",
                    models.FloatField(
                        default=0, editable=False, verbose_name="PT Total"
                    ),
                ),
                (
                    "pt_percentage",
                    models.FloatField(
                        default=0, editable=False, verbose_name="PT Percentage"
                    ),
                ),
                (
                    "pt_weighted_score",
                    models.FloatField(
                        default=0, editable=False, verbose_name="PT Weighted Score"
                    ),
                ),
                (
                    "qa_percentage",
                    models.FloatField(
                        default=0, editable=False, verbose_name="QA Percentage"
                    ),
                ),
                (
                    "qa_weighted_score",
                    models.FloatField(
                        default=0, editable=False, verbose_name="QA Weighted Score"
                    ),
                ),
                (
                    "initial_grade",
                    models.FloatField(
                        default=0, editable=False, verbose_name="Initial Grade"
                    ),
                ),
                (
                    "quarterly_grade",
                    models.PositiveIntegerField(
                        default=0, editable=False, verbose_name="Quarterly Grade"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "class_record",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_grades",
                        to="teacher.classrecord",
                        verbose_name="Class Record",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="grades",
                        to="enrollmentprocess.student",
                        verbose_name="Student",
                    ),
                ),
            ],
            options={
                "verbose_name": "Student Grade",
                "verbose_name_plural": "Student Grades",
                "ordering": ["student__last_name", "student__first_name"],
            },
        ),
        migrations.CreateModel(
            name="EarlyWarningAlert",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "warning_type",
                    models.CharField(
                        choices=[
                            ("at_risk", "At Risk (70-74, Quarter In Progress)"),
                            ("failed", "Failed (<75, Quarter Complete)"),
                        ],
                        max_length=10,
                    ),
                ),
                ("current_grade", models.PositiveIntegerField()),
                (
                    "initial_grade",
                    models.DecimalField(decimal_places=2, default=0, max_digits=5),
                ),
                ("required_performance", models.JSONField(default=dict)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("dismissed", "Dismissed"),
                            ("intervention_created", "Intervention Created"),
                            ("resolved", "Resolved"),
                        ],
                        default="active",
                        max_length=20,
                    ),
                ),
                ("flagged_at", models.DateTimeField(auto_now_add=True)),
                ("viewed_by_teacher", models.BooleanField(default=False)),
                ("viewed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "class_record",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="early_warnings",
                        to="teacher.classrecord",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="early_warnings",
                        to="enrollmentprocess.student",
                    ),
                ),
                (
                    "intervention",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="teacher.intervention",
                    ),
                ),
                (
                    "student_grade",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="early_warnings",
                        to="teacher.studentgrade",
                    ),
                ),
            ],
            options={
                "verbose_name": "Early Warning Alert",
                "ordering": ["-flagged_at"],
            },
        ),
        migrations.AddIndex(
            model_name="advisermasterlist",
            index=models.Index(
                fields=["adviser", "school_year"], name="teacher_adv_adviser_060ca9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="advisermasterlist",
            index=models.Index(
                fields=["section", "school_year"], name="teacher_adv_section_ad826c_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="advisermasterlist",
            unique_together={("adviser", "section", "school_year")},
        ),
        migrations.AddIndex(
            model_name="attendancerecord",
            index=models.Index(
                fields=["section", "school_year", "quarter"],
                name="teacher_att_section_a93ad4_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="attendancerecord",
            index=models.Index(
                fields=["teacher", "year", "month"],
                name="teacher_att_teacher_d13311_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="attendancerecord",
            unique_together={("section", "school_year", "quarter", "month", "year")},
        ),
        migrations.AddIndex(
            model_name="attendancehistory",
            index=models.Index(
                fields=["attendance_record", "-timestamp"],
                name="teacher_att_attenda_209913_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="classrecord",
            index=models.Index(
                fields=["teacher", "section", "quarter"],
                name="teacher_cla_teacher_c77545_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="classrecord",
            index=models.Index(
                fields=["school_year", "quarter"], name="teacher_cla_school__39853d_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="classrecord",
            unique_together={
                ("teacher", "subject", "section", "quarter", "school_year")
            },
        ),
        migrations.AddIndex(
            model_name="gradesummary",
            index=models.Index(
                fields=["student", "school_year"], name="teacher_gra_student_f6369a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="gradesummary",
            index=models.Index(
                fields=["section", "school_year"], name="teacher_gra_section_76c76a_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="gradesummary",
            unique_together={("student", "subject", "section", "school_year")},
        ),
        migrations.AddIndex(
            model_name="interventionplan",
            index=models.Index(
                fields=["student", "quarter", "school_year"],
                name="teacher_int_student_f96680_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="interventionplan",
            index=models.Index(
                fields=["risk_level", "is_active"],
                name="teacher_int_risk_le_70f934_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="interventionplan",
            index=models.Index(
                fields=["section", "subject"], name="teacher_int_section_989658_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="interventionaction",
            index=models.Index(
                fields=["intervention_plan", "status"],
                name="teacher_int_interve_84bd14_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="interventionaction",
            index=models.Index(
                fields=["tier", "action_type"], name="teacher_int_tier_aed7e2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="intervention",
            index=models.Index(
                fields=["student", "quarter"], name="teacher_int_student_6d543c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="intervention",
            index=models.Index(
                fields=["created_by", "-created_at"],
                name="teacher_int_created_f7b1d1_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="intervention",
            index=models.Index(
                fields=["last_status"], name="teacher_int_last_st_1626f5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="intervention",
            index=models.Index(
                fields=["subject", "intervention_type"],
                name="teacher_int_subject_49f5f5_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="interventionupdate",
            index=models.Index(
                fields=["intervention", "-date"], name="teacher_int_interve_cd34c6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="masterliststudent",
            index=models.Index(
                fields=["masterlist", "is_active"],
                name="teacher_mas_masterl_00fcd8_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="masterliststudent",
            index=models.Index(
                fields=["student", "status"], name="teacher_mas_student_0ca6c3_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="masterliststudent",
            index=models.Index(
                fields=["is_honor_student"], name="teacher_mas_is_hono_b22921_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="masterliststudent",
            index=models.Index(
                fields=["is_at_risk"], name="teacher_mas_is_at_r_9df85b_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="masterliststudent",
            unique_together={("masterlist", "student")},
        ),
        migrations.AddIndex(
            model_name="masterlistnote",
            index=models.Index(
                fields=["masterlist_student", "-date"],
                name="teacher_mas_masterl_e32d45_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="masterlistnote",
            index=models.Index(
                fields=["note_type"], name="teacher_mas_note_ty_53caa0_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="quarterenrollment",
            index=models.Index(
                fields=["masterlist_student", "quarter"],
                name="teacher_qua_masterl_b2dd85_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="quarterenrollment",
            index=models.Index(
                fields=["is_enrolled"], name="teacher_qua_is_enro_4ce087_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="quarterenrollment",
            unique_together={("masterlist_student", "quarter")},
        ),
        migrations.AddIndex(
            model_name="studentattendance",
            index=models.Index(
                fields=["attendance_record", "student"],
                name="teacher_stu_attenda_fcde43_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="studentattendance",
            index=models.Index(
                fields=["total_absences"], name="teacher_stu_total_a_911a14_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="studentattendance",
            index=models.Index(
                fields=["is_at_risk"], name="teacher_stu_is_at_r_af312b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="studentattendance",
            index=models.Index(
                fields=["is_dropout"], name="teacher_stu_is_drop_02cff9_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="studentattendance",
            unique_together={("attendance_record", "student")},
        ),
        migrations.AddIndex(
            model_name="studentgrade",
            index=models.Index(
                fields=["class_record", "student"],
                name="teacher_stu_class_r_3a0858_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="studentgrade",
            index=models.Index(
                fields=["quarterly_grade"], name="teacher_stu_quarter_3f5a27_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="studentgrade",
            unique_together={("class_record", "student")},
        ),
    ]
